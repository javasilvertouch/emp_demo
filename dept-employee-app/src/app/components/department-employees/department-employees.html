<div class="container mt-5">
    <h3 class="mb-4">Employees Details</h3>

    <div class="row align-items-center mb-3">
      <label for="deptId" class="col-sm-2 col-form-label">Department ID:</label>
      <div class="col-sm-4">
        <input type="text" id="deptId" [(ngModel)]="deptId" class="form-control" placeholder="Enter Department ID" />
      </div>
      <div class="col-sm-2">
        <button class="btn btn-primary w-100" (click)="getEmployees()">Search</button>
      </div>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    

    <table *ngIf="employees.length > 0" class="table table-bordered table-hover mt-3">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Salary</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of employees" (click)="goToEmployee(emp)" style="cursor: pointer;">
          <td>{{ emp.id }}</td>
          <td>{{ emp.name }}</td>
          <td>{{ emp.email }}</td>
          <td>{{ emp.salary | currency }}</td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="employees.length === 0 && !errorMessage" class="text-secondary">
      No employees found
    </div>

    <div class="text-end mt-3" *ngIf="employees.length > 0">
      <button class="btn btn-success" (click)="downloadEmployeesByDeptReport()">
        <i class="bi bi-file-earmark-pdf-fill me-2"></i> Download PDF
      </button>
    </div>
  </div>